import{isNullOrWhiteSpaces,sleep}from"./general.js";export default class ElementModal{constructor(e,t,n){if(isNullOrWhiteSpaces(e,t)||n<0)throw"[ELEMENT-MODAL] Some selector is null or white spaces!";this.contentElements=document.querySelectorAll(e),this.modalElement=document.querySelector(t);for(const l of this.contentElements)l.addEventListener("mouseenter",(()=>{this.appendModalMenu(l,this.modalElement)})),l.addEventListener("mouseleave",(()=>{this.removeModalMenu(l,n)})),-1!=l.tabIndex&&(l.addEventListener("focus",(()=>{this.appendModalMenu(l,this.modalElement)})),l.addEventListener("blur",(()=>{this.removeModalMenu(l,n)})))}async appendModalMenu(e,t){let n=t.cloneNode(!0);e.append(n),await sleep(30),n.classList.remove("_non-active")}async removeModalMenu(e,t){let n=e.lastElementChild;n&&(n.classList.add("_non-active"),await sleep(t+100),n.remove())}}