import{isNullOrWhiteSpaces}from"./general.js";export default class Accordion{constructor(t,e,s,i=!0){if(this.isToggling=!1,isNullOrWhiteSpaces(t,e)||s<0)throw"[ACCORDION] Incorrect arguments!";if(this.accordButtons=document.querySelectorAll(t),this.accordContentElements=Array.from(document.querySelectorAll(e).values()),this.animationDuration=s,this.accordButtons.length!=this.accordContentElements.length)throw"[ACCORDION] The count of buttons and content-elements must be more than zero.";i&&(this.accordButtons[0].classList.add("active"),this.accordContentElements[0].classList.add("active"));for(let o of this.accordButtons)o.addEventListener("click",(()=>{this.toggleActiveElements(o)}));for(const o of this.accordContentElements)0==o.classList.contains("active")&&o.setAttribute("hidden","")}toggleActiveElements(t){if(t.classList.contains("active")||this.isToggling)return;this.isToggling=!0;for(let s of this.accordButtons)s.classList.remove("active");let e;t.classList.add("active"),e=this.accordContentElements[t.dataset.toggleElemNumber];for(const s of this.accordContentElements)s.classList.remove("active"),setTimeout((()=>{s!=e?s.setAttribute("hidden",""):e.removeAttribute("hidden"),setTimeout((()=>{e.classList.add("active"),this.isToggling=!1}),10)}),this.animationDuration)}}