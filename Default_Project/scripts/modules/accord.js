import{isNullOrWhiteSpaces}from"./general.js";export default class Accordion{constructor(t,e,s,o=!0){if(isNullOrWhiteSpaces(t,e)||s<0)throw"[ACCORDION] Incorrect arguments!";if(this.accordButtons=document.querySelectorAll(t),this.accordContentElements=Array.from(document.querySelectorAll(e).values()),this.animationDuration=s,this.accordButtons.length!=this.accordContentElements.length)throw"[ACCORDION] The count of buttons and content-elements must be more than zero.";o&&(this.accordButtons[0].classList.add("active"),this.accordContentElements[0].classList.add("active"));for(let i of this.accordButtons)i.addEventListener("click",(()=>{this.toggleActiveElements(i)}));for(const i of this.accordContentElements)0==i.classList.contains("active")&&i.setAttribute("hidden","")}toggleActiveElements(t){if(t.classList.contains("active"))return;for(let s of this.accordButtons)s.classList.remove("active");let e;t.classList.add("active"),e=this.accordContentElements[t.dataset.toggleElemNumber];for(const s of this.accordContentElements)s.classList.remove("active"),setTimeout((()=>{s!=e?s.setAttribute("hidden",""):e.removeAttribute("hidden")}),this.animationDuration);setTimeout((()=>{e.classList.add("active")}),this.animationDuration>0?this.animationDuration+10:0)}}